<!DOCTYPE html>
<html>
<head>

    <meta charset=utf-8 />
    <title>Wirtschaftswege</title>

    <!-- My Styles -->
    <link rel="stylesheet" href="style.css" />
    <!-- Leaflet Sidebar Style -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css" integrity="sha512-1xoFisiGdy9nvho8EgXuXvnpR5GAMSjFwp40gSRE3NwdUdIMIKuPa7bqoUhLD0O/5tPNhteAsE5XyyMi5reQVA==" crossorigin="anonymous">
    <link rel="stylesheet" href="leaflet-sidebar.css" />
    <link rel="stylesheet" href="leaflet-panel-layers.css" />
    <link rel="stylesheet" href="icons.css" />
    <link rel="stylesheet" href="spin.css" />
    <link rel="stylesheet" href="Control.Loading.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous">
    <!--<link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">

    <!-- Font -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/spin.js/2.3.2/spin.min.js" integrity="sha512-NsDQfBXe4PQn8FUJztT36NXQiXQim8UFYB3eKmei+z/Ev2mMaNgElhcxSQWorYn3wycB2z4l7U8BV/kOKSDjYg==" crossorigin="anonymous"></script>
    <!-- Leaflet -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
    <!-- Leaflet Sidebar -->
    <script type="text/javascript" src="src/leaflet-sidebar.js"></script>
    <!-- Turf -->
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@5/turf.min.js"></script>
    <!-- Autolinker -->
    <script src="src/Autolinker.min.js"></script>
    <!-- Proj4 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.4.3/proj4.js"></script>
    <script src="src/proj4leaflet.js"></script>
    <!-- Jquery -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <!-- XML Parser Library -->
    <script type="text/javascript" src="src/jkl-parsexml.js"></script>
    <!-- FileSaver -->
    <script type="text/javascript" src="src/FileSaver.js"></script>
    <!-- Geocoder Search-Bar -->
	<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
	<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <!-- ProgressBar -->
    <script type="text/javascript" src="src/progressbar.js"></script>
    <script src="src/leaflet-panel-layers.js"></script>
    <script src="src/Control.Loading.js"></script>
    <script src="src/leaflet.spin.js"></script>

</head>

<body>

    <div id="sidebar" class="sidebar collapsed">
        <!-- Nav tabs -->
        <div class="sidebar-tabs">
            <ul role="tablist">
                <li id="start-tab"><a href="#start" role="tab"><i class="fas fa-play"></i></a></li>
                <li id="grund-tab" class="disabled"><a href="#edit-grund" role="tab"><i class="fas fa-pen"></i></a></li>
                <li id="request-tab" class="disabled"><a href="#categorize" role="tab"><i class="fas fa-filter"></i></a></li>
                <li id="kat-tab" class="disabled"><a href="#edit-soll" role="tab"><i class="fas fa-pen"></i></a></li>
                <li id="compare-tab" class="disabled"><a href="#compare" role="tab"><i class="fas fa-chart-bar"></i></a></li>
                <li id="download-tab" class="disabled"><a href="#download" role="tab"><i class="fas fa-download"></i></a></li>
                <li><a href="#print" role="tab"><i class="fas fa-print"></i></i></a></li>
            </ul>

            <ul role="tablist">
                <li><a href="#info" role="tab"><i class="fas fa-question-circle"></i></a></li>
            </ul>
        </div>

        <!-- Tab panes -->
        <div class="sidebar-content">

            <div class="sidebar-pane" id="start">
                <h1 class="sidebar-header">
                    Start
                    <span class="sidebar-close"><i class="fa fa-caret-left"></i></span>
                </h1>
                <br>
                <p>Wählen Sie eine Gemeinde, um zu starten.</p>
                <select id="gemeinde" onchange="chooseGemeinde(this)">
                    <option disabled selected value>Wählen Sie eine Gemeinde</option>
                    <option value="Barntrup">Barntrup</option>
                    <option value="Dörentrup">Dörentrup</option>
                    <option value="Extertal">Extertal</option>
                    <option value="Kalletal">Kalletal</option>
                    <option value="Lage">Lage</option>
                    <option value="Leopoldshöhe">Leopoldshöhe</option>
                </select>
                <br>
                <br>
                <button class="btn btn-outline-primary btn-sm" id="test-grund">Grund Daten Laden</button>

            </div>

            <div class="sidebar-pane" id="categorize">
                <h1 class="sidebar-header">Kategorisierung<span class="sidebar-close"><i class="fa fa-caret-left"></i></span></h1>
                <br>
                <p>Um die Wege zu kategorisieren, klicken Sie:</p>
                <button class="btn btn-outline-primary btn-sm" id="recalculate">Wegen Kategorisieren</button>
                <br>
                <br>
                <button class="btn btn-outline-primary btn-sm" id="test">Test Daten Laden</button>
            
            </div>

            <div class="sidebar-pane" id="edit-grund">
                <h1 class="sidebar-header">Grunddatenanpassung<span class="sidebar-close"><i class="fa fa-caret-left"></i></span></h1>
                <br>
                <p>Klicken Sie auf einem Weg, um seine Attribute zu anpassen.</p>
                <table id="attributes-ist" class="table table-sm">
                    <thead>
                        <tr>
                            <td>ATTRIBUT</td>
                            <td>WERT</td>
                            <td>WERT-Korrigiert</td>
                        </tr>
                    </thead>
                    <tr>
                    <td>Abschnittslänge (m):</td>
                        <td id="LAENGE"></td>
                        <td> - </td>
                    </tr>
                    <tr>
                        <td>Funktion:</td>
                        <td id="fkt-ist"></td>
                        <td><select id="fkt" onchange="blockOthers(this)">
                            <option value=""> - </option>
                            <option value="5211">Hauptwirtschaftsweg</option>
                            <option value="5212">Wirtschaftsweg</option>
                        </select></td>
                    </tr>
                    <tr>
                        <td>Nutzung:</td>
                        <td id="art-ist"></td>
                        <td><select id="art" onchange="blockOthers(this)">
                            <option value=""> - </option>
                            <option value="1103">Fußweg</option>
                            <option value="1106">Radweg</option>
                            <option value="1107">Reitweg</option>
                            <option value="1110">Rad- und Fußweg</option>
                        </select></td>
                    </tr>
                    <tr>
                        <td>Widmung:</td>
                        <td id="wdm-ist"></td>
                        <td><select id="wdm" onchange="blockOthers(this)">
                            <option value=""> - </option>
                            <option value="1301">Bundesautobahn</option>
                            <option value="1303">Bundesstraße</option>
                            <option value="1305">Landesstraße, Staatstraße</option>
                            <option value="1306">Kreisstraße</option>
                            <option value="1307">Gemeindestraße</option>
                            <option value="9997">Attribut trifft nicht zu</option>
                            <option value="9999">Sonstiges</option>
                        </select></td>
                    </tr>
                    <tr>
                        <td>Zustand:</td>
                        <td id="zus-ist"></td>
                        <td><select id="zus">
                            <option value=""> - </option>
                            <option value="2100">Außer Betrieb, stillgelegt, verlassen</option>
                            <option value="4000">Im Bau</option>
                        </select></td>
                    </tr>
                </table>
                <br>
                <button class="btn btn-outline-primary btn-sm" id="edit-confirm" onclick="confirmEditGrund()">Übernehmen</button>
            
            </div>

            <div class="sidebar-pane" id="edit-soll">
                <h1 class="sidebar-header">Konzepterarbeitung<span class="sidebar-close"><i class="fa fa-caret-left"></i></span></h1>
                <br>
                <p>Klicken Sie auf einem Weg, um seine Attribute zu anpassen.</p>
                <h6>Wegekategorien</h6>
                <table id="attributes-soll" class="table table-sm">
                    <thead>
                        <tr>
                            <td>ATTRIBUT</td>
                            <td>WERT</td>
                            <td>WERT-Korrigiert</td>
                        </tr>
                    </thead>
                    <tr>
                        <td>IST Kategorie:</td>
                        <td id="WEGKAT-ist"></td>
                        <td><select id="WEGKAT">
                                <option value=""> - </option>
                                <option value="a">A_klassifiziert</option>
                                <option value="b">B_multifunktionaler Verbindungsweg</option>
                                <option value="c">C_Hauptwirtschaftsweg</option>
                                <option value="d">D_untergeordneter Wirtschaftsweg mit Fußgängerverkehr</option>
                                <option value="e">E_untergeordneter Erschließungsweg mit luf Verkehr</option>
                                <option value="f">F_Einzelerschließung kaum luf Verkehr</option>
                                <option value="g">G_Binnenerschließung, entbehrlich für das Wegenetz</option>
                                <option value="h">H_keine Funktion</option>
                                <option value="i">I_Rad-, Reit-, Fußweg</option>
                            </select></td>
                    </tr>
                    <tr>
                        <td>Zukünftige Kategorie (dargestellt):</td>
                        <td id="ZWEGKAT-ist"></td>
                        <td><select id="ZWEGKAT">
                                <option value=""> - </option>
                                <option value="a">A_klassifiziert</option>
                                <option value="b">B_multifunktionaler Verbindungsweg</option>
                                <option value="c">C_Hauptwirtschaftsweg</option>
                                <option value="d">D_untergeordneter Wirtschaftsweg mit Fußgängerverkehr</option>
                                <option value="e">E_untergeordneter Erschließungsweg mit luf Verkehr</option>
                                <option value="f">F_Einzelerschließung kaum luf Verkehr</option>
                                <option value="g">G_Binnenerschließung, entbehrlich für das Wegenetz</option>
                                <option value="h">H_keine Funktion</option>
                                <option value="i">I_Rad-, Reit-, Fußweg</option>
                            </select></td>
                    </tr>
                </table>

                <h6>Erfassung des IST-Zustands</h6>
                <table class="table table-sm">
                    <thead>
                        <tr>
                            <td>ATTRIBUT</td>
                            <td>WERT</td>
                        </tr>
                    </thead>
                    <th>Beschreibung des Wegabschnitts</th>
                    <tr>
                        <td>Ausbauart</td>
                        <td><select id="BAUART">
                                <option value=""> - </option>
                                <option value="a">befestigt</option>
                                <option value="b">teilbefestigt</option>
                                <option value="c">wassergebunden</option>
                                <option value="d">ohne Befestigung</option>
                                <option value="e">Kreuzungsbauwerk</option>
                            </select></td>
                    </tr>
                    <tr>
                        <td>Ausbauzustand</td>
                        <td><select id="BAUZUS">
                                <option value=""> - </option>
                                <option value="a">in Ordnung</option>
                                <option value="b">Einzelmaßnahmen erforderlich</option>
                                <option value="c">Gesamtsanierung erforderlich</option>
                            </select></td>
                    </tr>
                    <tr>
                        <td>Tragfähigkeit</td>
                        <td><select id="TRAGF">
                                <option value=""> - </option>
                                <option value="a">hoch</option>
                                <option value="b">mittel</option>
                                <option value="c">gering</option>
                            </select></td>
                    </tr>
                    <tr>
                        <td>Vorwiegende Kronenbreite [m]</td>
                        <td><input class="inputs" type="number" step="0.01" id="DKBREIT"></input></td>
                    </tr>
                    <tr>
                        <td>Vorwiegende Fahrbahnbreite [m]</td>
                        <td><input class="inputs" type="number" step="0.01" id="DFBREIT"></input></td>
                    </tr>
                    <tr>
                        <td>Schmalste Breite [m]</td>
                        <td><input class="inputs" type="number" step="0.01" id="KBREIT"></input></td>
                    </tr>
                    <tr>
                        <td>Unterhaltungspflicht</td>
                        <td><select id="UHPFL">
                                <option value=""> - </option>
                                <option value="GEM">Gemeinde</option>
                                <option value="KREIS">Kreis</option>
                                <option value="LAND">Land Nordrhein-Westfalen</option>
                                <option value="BUND">Bundesrepublick Deutschland</option>
                                <option value="PRIV">natürliche oder juristische Privatperson</option>
                                <option value="SONST">sonstige</option>
                                <option value="OFFEN">ungeklärt</option>
                            </select></td>
                    </tr>
                    <th>Nutzungshäufigkeit nach Funktionalität</th>
                    <tr>
                        <td>Nutzungshäufigkeit Landwirtschaft</td>
                        <td><select id="FKT_LW">
                                <option value=""> - </option>
                                <option value="0">nie / selten</option>
                                <option value="1">gelegentlich / saisonal</option>
                                <option value="2">häufig</option>
                            </select></td>
                    </tr>
            
                    <tr>
                        <td>Nutzungshäufigkeit Forstwirtschaft</td>
                        <td><select id="FKT_FW">
                                <option value=""> - </option>
                                <option value="0">nie / selten</option>
                                <option value="1">gelegentlich / saisonal</option>
                                <option value="2">häufig</option>
                            </select></td>
                    </tr>
            
                    <tr>
                        <td>Nutzungshäufigkeit Tourismus, Erholung, Freizeit</td>
                        <td><select id="FKT_TFE">
                                <option value=""> - </option>
                                <option value="0">nie / selten</option>
                                <option value="1">gelegentlich / saisonal</option>
                                <option value="2">häufig</option>
                            </select></td>
                    </tr>
            
                    <tr>
                        <td>Nutzungshäufigkeit Wandernutzung</td>
                        <td><select id="FKT_WA">
                                <option value=""> - </option>
                                <option value="0">nie / selten</option>
                                <option value="1">gelegentlich / saisonal</option>
                                <option value="2">häufig</option>
                            </select></td>
                    </tr>
            
                    <tr>
                        <td>Nutzungshäufigkeit Reiter</td>
                        <td><select id="FKT_RE">
                                <option value=""> - </option>
                                <option value="0">nie / selten</option>
                                <option value="1">gelegentlich / saisonal</option>
                                <option value="2">häufig</option>
                            </select></td>
                    </tr>
            
                    <tr>
                        <td>Nutzungshäufigkeit Radfahrer</td>
                        <td><select id="FKT_RA">
                                <option value=""> - </option>
                                <option value="0">nie / selten</option>
                                <option value="1">gelegentlich / saisonal</option>
                                <option value="2">häufig</option>
                            </select></td>
                    </tr>
            
                    </tr>
                    <td>Nutzungshäufigkeit Darseinsvorsorge und Mobilität</td>
                    <td><select id="FKT_DM">
                            <option value=""> - </option>
                            <option value="0">nie / selten</option>
                            <option value="1">gelegentlich / saisonal</option>
                            <option value="2">häufig</option>
                        </select></td>
                    </tr>
            
                    <tr>
                        <td>Nutzungshäufigkeit siedlungsstrukturelle Entwicklungen</td>
                        <td><select id="FKT_SE">
                                <option value=""> - </option>
                                <option value="0">nie / selten</option>
                                <option value="1">gelegentlich / saisonal</option>
                                <option value="2">häufig</option>
                            </select></td>
                    </tr>
            
                    <tr>
            
                        <td>Nutzungshäufigkeit Produktion erneuerbarer Energien</td>
                        <td><select id="FKT_PEE">
                                <option value=""> - </option>
                                <option value="0">nie / selten</option>
                                <option value="1">gelegentlich / saisonal</option>
                                <option value="2">häufig</option>
                            </select></td>
                    </tr>
            
                    <th>Ökologische Wertigkeit</th>
            
                    <tr>
                        <td>Funktion ökologische Wertigkeit Wege, Verkehrsflächen</td>
                        <td><select id="FKT_OEWW">
                                <option value=""> - </option>
                                <option value="0">nicht vorhanden</option>
                                <option value="1">vorhanden</option>
                                <option value="2">stark ausgeprägt</option>
                            </select></td>
                    </tr>
            
                    <tr>
                        <td>Funktion ökologische Wertigkeit Säume</td>
                        <td><select id="FKT_OEWS">
                                <option value=""> - </option>
                                <option value="0">nicht vorhanden</option>
                                <option value="1">vorhanden</option>
                                <option value="2">stark ausgeprägt</option>
                            </select></td>
                    </tr>
            
                    <tr>
                        <td>Datum der örtl. Begehung /Erfassung</td>
                        <td><input class="inputs" id="DATUM" type="date"></input></td>
                    </tr>
                </table>
                
                <h6>Erfassung des SOLL-Konzepts</h6>
                <table class="table table-sm">
                    <thead>
                        <tr>
                            <td>ATTRIBUT</td>
                            <td>WERT</td>
                        </tr>
                    </thead>
                    <th>Beschreibung des Wegabschnitts</th>

                    <tr>
                        <td>Handlungsempfehlung:</td>
                        <td><select id="HANDL">
                                <option value=""> - </option>
                                <option value="a">Erhaltung wie Bestand (normale Unterhaltung)</option>
                                <option value="b">den Unterbau einschließende Sanierung (gleiche Kategorie)</option>
                                <option value="c">Umbau / andere Bauweise (veränderte Kategorie)</option>
                                <option value="d">Rückbau / Aufhebung</option>
                                <option value="e">Neubau (neue Trasse)</option>
                            </select></td>
                    </tr>
                    <tr>
                        <td>Priorität:</td>
                        <td><select id="PRIO">
                                <option value=""> - </option>
                                <option value="Kurzfristig">Kurzfristig</option>
                                <option value="Mittelfristig">Mittelfristig</option>
                                <option value="Langfristig">Langfristig</option>
                            </select></td>
                    </tr>
                    <tr>
                        <td>Zukünftige Unterhaltungspflicht:</td>
                        <td><select id="ZUHPFL">
                                <option value=""> - </option>
                                <option value="Gemeinde">Gemeinde</option>
                                <option value="Kreis">Kreis</option>
                                <option value="Land">Land</option>
                                <option value="Bundesrepublik Deutschland">Bundesrepublik Deutschland</option>
                                <option value="Natürliche Personen des Privatrechts">Natürliche Personen des Privatrechts</option>
                                <option value="Juristichen Personen des Privatrechts">Juristichen Personen des Privatrechts</option>
                                <option value="Sonstige">Sonstige</option>
                            </select></td>
                    </tr>
            
            
                </table>
                <br>
                <button class="btn btn-outline-primary btn-sm" id="edit-confirm" onclick="confirmEdit()">Übernehmen</button>
                <br>
                <br>
            </div>

            <div class="sidebar-pane" id="compare">
                <h1 class="sidebar-header">Vergleichen<span class="sidebar-close"><i class="fa fa-caret-left"></i></span></h1>
            </div>

            <div class="sidebar-pane" id="download">
                <h1 class="sidebar-header">Herunterladen<span class="sidebar-close"><i class="fa fa-caret-left"></i></span></h1>
                <br>
                <p>Um die Wege in GeoJSON Format zu herunterladen, klicken Sie:</p>
                <button class="btn btn-outline-primary btn-sm" id="download">Download</button>
                
            </div>

            <div class="sidebar-pane" id="print">
                <h1 class="sidebar-header">Drucken<span class="sidebar-close"><i class="fa fa-caret-left"></i></span></h1>
                <br>
                <p>Um die karte Ansicht zu drucken, klicken Sie:</p>
                <button class="btn btn-outline-primary btn-sm" id="print">Drucken</button>
                
            </div>

        </div>

    </div>

    <!-- SOLL Karte -->
    <div id="map" class="sidebar-map"></div>

    <!-- Script -->
    <script src="js/script.js"></script>

</body>

</html>